---
import Base from "@/layouts/Base.astro";
import type { DotIllust, DotIllustTag } from "@/types";
import { getCachedContents } from "@/libs/microcms";
import Page from "./_page";
import { formatDotList } from "@/libs/format-dotlist";

const dots = await formatDotList(await getCachedContents<DotIllust>("dot"));
const tags = await getCachedContents<DotIllustTag>("tags");
---

<Base ignoreSearch>
	<Page dots={dots} tags={tags} client:load />
</Base>
